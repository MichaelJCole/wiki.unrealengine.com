<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" /><title>Create Custom K2 Node For Blueprint - Epic Wiki</title>
<meta name="generator" content="MediaWiki 1.22.2" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Epic Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.unrealengine.com/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Epic Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=epic&amp;*" />
<link rel="stylesheet" href="/extensions/EpicVideoSystem/CSS/VideoSystem.css" />
<link rel="stylesheet" href="/skins/epic/resources/screen.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/epic.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/prettify.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/jquery.qtip.css?303" media="screen" /><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=epic&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: my_wiki:resourceloader:filter:minify-css:7:07b6a8ccf3fd62e770f192d0a6f8e123 */</style>

<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=epic&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Create_Custom_K2_Node_For_Blueprint","wgTitle":"Create Custom K2 Node For Blueprint","wgCurRevisionId":10481,"wgRevisionId":10481,"wgArticleId":3008,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Code"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Create_Custom_K2_Node_For_Blueprint","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":true,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"epic","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,
"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: my_wiki:resourceloader:filter:minify-js:7:2197af7670c41256853f340e275ede1b */
}</script>
<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=skins.epic.extras.js%7Cskins.epic.fancybox.js%7Cskins.epic.js%7Cskins.epic.qtip.js%7Cskins.epic.slimscroll.js&amp;only=scripts&amp;skin=epic&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000ff;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #666666;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #000099; font-weight: bold;}
.cpp.source-cpp .es1 {color: #000099; font-weight: bold;}
.cpp.source-cpp .es2 {color: #660099; font-weight: bold;}
.cpp.source-cpp .es3 {color: #660099; font-weight: bold;}
.cpp.source-cpp .es4 {color: #660099; font-weight: bold;}
.cpp.source-cpp .es5 {color: #006699; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #FF0000;}
.cpp.source-cpp .nu0 {color: #0000dd;}
.cpp.source-cpp .nu6 {color: #208080;}
.cpp.source-cpp .nu8 {color: #208080;}
.cpp.source-cpp .nu12 {color: #208080;}
.cpp.source-cpp .nu16 {color:#800080;}
.cpp.source-cpp .nu17 {color:#800080;}
.cpp.source-cpp .nu18 {color:#800080;}
.cpp.source-cpp .nu19 {color:#800080;}
.cpp.source-cpp .me1 {color: #007788;}
.cpp.source-cpp .me2 {color: #007788;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/epic/csshover.min.htc")}</style><![endif]--><script type="text/javascript">
var experimentID = false;
var cxApi = null;
var variation = 0;
var fancyTitle = "";
var CE_SNAPSHOT_NAME = document.getElementsByTagName("title")[0].innerHTML;
$(document).ready(function(){
	if(experimentID != false)
	{
		$(head).append('<script src="//www.google-analytics.com/cx/api.js?experiment=' + experimentID + '" />' + '</scr' + 'ipt>');
		HandleExperiment();
	}
	else
	{
		CE_SNAPSHOT_NAME = (fancyTitle != "" ? fancyTitle : document.getElementsByTagName("title")[0].innerHTML);
		setTimeout(function () {
			var a = document.createElement("script");
			var b = document.getElementsByTagName("script")[0];
			a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
			a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
		}, 1);	
	}
});
function HandleExperiment()
{
	CE_SNAPSHOT_NAME = (fancyTitle != "" ? fancyTitle : document.getElementsByTagName("title")[0].innerHTML);
	if(cxApi != null)
	{
		variation = cxApi.chooseVariation();
		cxApi.setChosenVariation(variation, experimentID);
		if(variation != cxApi.ORIGINAL_VARIATION && variation != cxApi.NO_CHOSEN_VARIATION && variation != cxApi.NOT_PARTICIPATING)
		{
			//var URL = document.location.href + (document.location.search != '' ? '&var=' : '?var=') + variation;
			ga('send', 'event', 'A/B', 'ID: ' + experimentID, 'Variation: ' + variation, {'nonInteraction': 1});
			//document.location.href = URL; 
			CE_SNAPSHOT_NAME = document.getElementsByTagName("title")[0].innerHTML + ' (variation ' + variation + ')';
			var test = "";
		}
		else
		{
			ga('send', 'event', 'A/B', 'ID: ' + experimentID, 'Variation: ' + variation, {'nonInteraction': 1});
		}
		ToggleExperimentContent(variation);
		setTimeout(function () {
			var a = document.createElement("script");
			var b = document.getElementsByTagName("script")[0];
			a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
			a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
		}, 1);
	}
	else
	{
		setTimeout("HandleExperiment()", 500);
	}
}

function ToggleExperimentContent(variation)
{
	$('.AB').hide();
	$('#variation_' + variation).show();
}
</script></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Create_Custom_K2_Node_For_Blueprint skin-epic action-view vector-animateLayout">
		<!--<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>-->
		<!-- Google Tag Manager -->
		<noscript>
			<iframe src="//www.googletagmanager.com/ns.html?id=GTM-KWRD6D"
					height="0" width="0" style="display:none;visibility:hidden"></iframe>
		</noscript>
		<script>
		(function (w, d, s, l, i) {
		w[l] = w[l] || []; w[l].push({
		'gtm.start':
		new Date().getTime(), event: 'gtm.js'
		}); var f = d.getElementsByTagName(s)[0],
		j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
		'//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-KWRD6D');</script>
		<!-- End Google Tag Manager -->
		<div id="webThree">
		<div id="head">
		





<input type="hidden" id="updateenable" value="true">

    <script src="https://cdn1.unrealengine.com/2670222/unifiedHeaderBundle-c133cbefbece60d20fd29c5b1819fa39.js" defer></script>
    <link rel="stylesheet" href="https://cdn1.unrealengine.com/2670222/unifiedHeader-dd083735d5017970978496baee5b916e.css">


<header id="header" data-path="/" data-sitepath="https://www.unrealengine.com">
<input type="hidden" id="isUnified" value="1" />
    <input type="hidden" id="current_locale" value="en_US"/>
    <input type="hidden" id="header-host" value="https://www.unrealengine.com" />
    <nav class="main-menu">
        <div class="menu-mobile">
            <span class="menu-mobile-icon"></span>
            <ul>

                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">About</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/what-is-unreal-engine-4">Overview</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/unreal-engine-4">Features</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/vr-page">Virtual Reality</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/showcase">Showcase</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/49-release-notes-overview">What&#39;s New</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/faq">FAQ / EULA</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/previous-versions">Previous Versions</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Learn</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://docs.unrealengine.com/" target="_blank">Documentation</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://wiki.unrealengine.com/Videos " target="_blank">Video Tutorials</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://wiki.unrealengine.com/Main_Page" target="_blank">Wiki</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Community</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/blog">Blog</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://forums.unrealengine.com/" target="_blank">Forums</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://answers.unrealengine.com/" target="_blank">AnswerHub</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://trello.com/b/gHooNW9I/ue4-roadmap" target="_blank">Roadmap</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/unrealdevgrants">Unreal Dev Grants</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="http://www.unrealtournament.com/blog/" target="_blank">Unreal Tournament</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Marketplace</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/marketplace">Browse</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://publish.unrealengine.com/faq" target="_blank">Business Terms</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://publish.unrealengine.com/submission-guidelines" target="_blank">Submission Guidelines</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://publish.unrealengine.com/welcome" target="_blank">Submit Your Content</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://forums.unrealengine.com/forumdisplay.php?56-Marketplace" target="_blank">Marketplace Forums</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Academia</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/education">Education Program</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/academic-partners">Academic Partners</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                
                <li class="btn-account ignore" style="display: none">
                    <a href="https://www.unrealengine.com/dashboard">Account</a>
                </li>
                <li class="btn-signout ignore" style="display: none">
                    <a class="sso-sign-out" href="">Log Out</a>
                </li>
                <li class="btn-signin ignore" style="display: none">
                    <a class="sso-sign-in" href="">Sign in</a>
                </li>
            </ul>
        </div>

        <ul class="menu-items">
            <li class="logo ignore">
                
                    <a href="https://www.unrealengine.com/blog"></a>
                
            </li>

            
                

                    
                        <li>
                            
                                <a>About</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/what-is-unreal-engine-4">Overview</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/unreal-engine-4">Features</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/vr-page">Virtual Reality</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/showcase">Showcase</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/49-release-notes-overview">What&#39;s New</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/faq">FAQ / EULA</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/previous-versions">Previous Versions</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Learn</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://docs.unrealengine.com/" target="_blank">Documentation</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://wiki.unrealengine.com/Videos " target="_blank">Video Tutorials</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://wiki.unrealengine.com/Main_Page" target="_blank">Wiki</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Community</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/blog">Blog</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://forums.unrealengine.com/" target="_blank">Forums</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://answers.unrealengine.com/" target="_blank">AnswerHub</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://trello.com/b/gHooNW9I/ue4-roadmap" target="_blank">Roadmap</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/unrealdevgrants">Unreal Dev Grants</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="http://www.unrealtournament.com/blog/" target="_blank">Unreal Tournament</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Marketplace</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/marketplace">Browse</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://publish.unrealengine.com/faq" target="_blank">Business Terms</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://publish.unrealengine.com/submission-guidelines" target="_blank">Submission Guidelines</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://publish.unrealengine.com/welcome" target="_blank">Submit Your Content</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://forums.unrealengine.com/forumdisplay.php?56-Marketplace" target="_blank">Marketplace Forums</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Academia</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/education">Education Program</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/academic-partners">Academic Partners</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
        </ul>


        <div class="menu-download" data-sub="dl">
            <a class="sso-register" href="">
                <span class="isUpdateEnabled">Get Unreal</span>
            </a>
        </div>
        

        <div id="search" class="menu-search ignore">
                <span></span>
        </div>
        
        <div class="search-header">
            <div class="input-search">
                <div id="search-tips" class="search-tips-en_US">
                    You may be unable to view the results of this search unless you connect to a VPN first.
                </div>
                <span></span>
                <input type="text" name="search" value="" style="background:none !important" id="isearch" class="text" placeholder="Search..." />
                <p class="search-btn">Search</p>
            </div>
        </div>

        <ul class="menu-icons">
            <li id="btn-account" class="ignore" data-sub="account" style="display: none">
                <a href="/dashboard">Account</a>
                <ul class="account-sub-menu">
                    <li>
                        <a href="/dashboard">Personal</a>
                    </li>
                    <li>
                        <a href="https://publish.unrealengine.com/">Seller</a>
                    </li>
                </ul>
            </li>
            <li id="btn-signout" class="ignore" data-sub="account" style="display: none">
                <a class="sso-sign-out last-border" href="">Log Out</a>
            </li>
            <li id="btn-signin" class="ignore" data-sub="account" style="display: none">
                <a class="sso-sign-in last-border" href="">Sign in</a>
            </li>
        </ul>
        
    </nav>
</header>

		</div>
		<div id="pagedefault">		
                    <div id="pagenav">
                        <div>
                            <!-- Start of Other language links -->
                            <!-- End of Other language links -->
                            <div class="homelink_container">
                                <a href="https://wiki.unrealengine.com" title="UE4 Wiki Home" class="homelink">HOME</a>
                            </div>
                        </div>
                        <div style="clear:both;">
                        </div>
                    </div>	
		<div id="mw-navigation" style="max-width:972px;margin:1em auto 0 auto;">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="jumplink" onclick="$('#sidebar').toggle();">
					Navigation
				</div>
				<div id="sidebar">
					<!-- Start of jump page links -->
					<div class="largetitle">
						Quick Links
					</div>
					<div class="arrowlist">
						<!-- End of jump page links -->
						<!-- Start of related page links -->
						<!-- End of related page links -->								
						<div id="mw-panel">
							<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage"><a href="/Main_Page" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
			<li id="n-Tutorials"><a href="/Category:Tutorials">Tutorials</a></li>
			<li id="n-Videos"><a href="/Videos">Videos</a></li>
			<li id="n-Plug-ins"><a href="/Category:Plug-ins">Plug-ins</a></li>
			<li id="n-Code"><a href="/Category:Code">Code</a></li>
			<li id="n-Games"><a href="/Category:Games">Games</a></li>
			<li id="n-Unreal-Tournament"><a href="/Category:Unreal_Tournament">Unreal Tournament</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Create_Custom_K2_Node_For_Blueprint" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Create_Custom_K2_Node_For_Blueprint" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="/index.php?title=Create_Custom_K2_Node_For_Blueprint&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="/index.php?title=Create_Custom_K2_Node_For_Blueprint&amp;oldid=10481" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="/index.php?title=Create_Custom_K2_Node_For_Blueprint&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
						</div>
					</div>
				</div>				
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/Create_Custom_K2_Node_For_Blueprint"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="/index.php?title=Talk:Create_Custom_K2_Node_For_Blueprint&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="/Create_Custom_K2_Node_For_Blueprint" >View</a></span></li>
					<li id="ca-viewsource"><span><a href="/index.php?title=Create_Custom_K2_Node_For_Blueprint&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/index.php?title=Create_Custom_K2_Node_For_Blueprint&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">History</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-createaccount"><a href="/index.php?title=Special:UserLogin&amp;returnto=Create+Custom+K2+Node+For+Blueprint&amp;type=signup">Create account</a></li><li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Create+Custom+K2+Node+For+Blueprint" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>	</ul>
</div>
				</div>
			</div>
		</div>
		<div id="maincol">
		<div class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- Start of crumbs links -->
			<div class="crumbs">
			<p>
							</p>
			</div>
			<!-- End of crumbs links -->
			<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Create Custom K2 Node For Blueprint</span></h1>
			<div id="bodyContent">
				<div id="contentSub"></div>
																<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><h2><span class="mw-headline" id="Contents:">Contents:</span></h2>
<p>I will show you how to create real Blueprint Node using C++. Normally all you need is expose function from C++, back to blueprints, but creating custom node have big benefits. One the biggest is dynamic allocation of pins!
</p><p><br />
</p>
<h2><span class="mw-headline" id="Preparations">Preparations</span></h2>
<p>You will need to make some preprations before you can make custom node. First you need to add custom Editor Module your plugin, game or engine module. As it requires quite a bit of editor specific modules dependencies.
For now assume you are working on plugin. open .uplugin file and add this code:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="st0">&quot;Modules&quot;</span> <span class="sy4">:</span>
<span class="br0">&#91;</span>
    <span class="br0">&#123;</span>
        <span class="st0">&quot;Name&quot;</span><span class="sy4">:</span> <span class="st0">&quot;GameInventorySystem&quot;</span>,
        <span class="st0">&quot;Type&quot;</span><span class="sy4">:</span> <span class="st0">&quot;Runtime&quot;</span>,
        <span class="st0">&quot;LoadingPhase&quot;</span> <span class="sy4">:</span> <span class="st0">&quot;PreDefault&quot;</span>
    <span class="br0">&#125;</span>,
    <span class="br0">&#123;</span>
        <span class="st0">&quot;Name&quot;</span> <span class="sy4">:</span> <span class="st0">&quot;GameInventorySystemEditor&quot;</span>,
        <span class="st0">&quot;Type&quot;</span> <span class="sy4">:</span> <span class="st0">&quot;Editor&quot;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#93;</span>,</pre></div></div>
<p>The first module is your runtime module. Second one is editor module, which will have dependencies on runtime module. Name your modules however you want, although it's good practice to postfix editor modules with Editor.
</p><p>Also please note I will be using code from my own plugin.
</p><p>Now in runtime module we need to add, BlueprintFunctionLibrary, and in it at least one function.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="kw2">class</span> GAMEINVENTORYSYSTEM_API UGISBlueprintFunctionLibrary <span class="sy4">:</span> <span class="kw2">public</span> UBlueprintFunctionLibrary
<span class="br0">&#123;</span>
    GENERATED_UCLASS_BODY<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="kw2">public</span><span class="sy4">:</span>
    UFUNCTION<span class="br0">&#40;</span>BlueprintCallable, meta <span class="sy1">=</span> <span class="br0">&#40;</span>WorldContext <span class="sy1">=</span> <span class="st0">&quot;WorldContextObject&quot;</span>, FriendlyName <span class="sy1">=</span> <span class="st0">&quot;Create Item Data&quot;</span>, BlueprintInternalUseOnly <span class="sy1">=</span> <span class="st0">&quot;true&quot;</span><span class="br0">&#41;</span>, Category <span class="sy1">=</span> <span class="st0">&quot;Game Inventory System&quot;</span><span class="br0">&#41;</span>
    <span class="kw4">static</span> <span class="kw2">class</span> UGISItemData<span class="sy2">*</span> Create<span class="br0">&#40;</span>UObject<span class="sy2">*</span> WorldContextObject, TSubclassOf<span class="sy1">&lt;</span><span class="kw2">class</span> UGISItemData<span class="sy1">&gt;</span> ItemType, APlayerController<span class="sy2">*</span> OwningPlayer<span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span><span class="sy4">;</span></pre></div></div>
<p>Important part about UFUNCTION is BlueprintInternalUseOnly, which hides node from blueprint. That is fully intentional, we don't want this node to show in BP.
Also don't forget to add implementation. Which will return pointer to created item. You can do it just by using ConstructObject&lt;&gt; or you can create template function like this:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="kw2">template</span><span class="sy1">&lt;</span> <span class="kw2">class</span> T <span class="sy1">&gt;</span>
T<span class="sy2">*</span> CreateDataItem<span class="br0">&#40;</span>APlayerController<span class="sy2">*</span> OwningPlayer, UClass<span class="sy2">*</span> UserWidgetClass<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy3">!</span>UserWidgetClass<span class="sy2">-</span><span class="sy1">&gt;</span>IsChildOf<span class="br0">&#40;</span>UGISItemData<span class="sy4">::</span><span class="me2">StaticClass</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
    <span class="br0">&#123;</span>
        <span class="kw1">return</span> nullptr<span class="sy4">;</span>
    <span class="br0">&#125;</span>
&#160;
<span class="co1">// Assign the outer to the game instance if it exists, otherwise use the player controller's world</span>
    UWorld<span class="sy2">*</span> World <span class="sy1">=</span> OwningPlayer<span class="sy2">-</span><span class="sy1">&gt;</span>GetWorld<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
    StaticCast<span class="sy1">&lt;</span>UObject<span class="sy2">*</span><span class="sy1">&gt;</span><span class="br0">&#40;</span>World<span class="br0">&#41;</span><span class="sy4">;</span>
    UGISItemData<span class="sy2">*</span> NewWidget <span class="sy1">=</span> ConstructObject<span class="sy1">&lt;</span>UGISItemData<span class="sy1">&gt;</span><span class="br0">&#40;</span>UserWidgetClass, OwningPlayer<span class="br0">&#41;</span><span class="sy4">;</span>
    <span class="kw1">return</span> Cast<span class="sy1">&lt;</span>T<span class="sy1">&gt;</span><span class="br0">&#40;</span>NewWidget<span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>You can also add additional post construction initialization steps in this function, to accomodate for your specific needs.
</p><p><br />
Now move to editor module and open YourModuleName.Build.cs
</p><p>Add this:
</p><p><code>
</p>
<pre>   PublicIncludePaths.AddRange(
       new string[] {
           "YourRunTimeModule",
           "YourRunTimeModule/Public"
          // ... add public include paths required here ...
       }
   );
   PrivateIncludePaths.AddRange(
       new string[] {
           "YourRunTimeModuleEditor/Private",
           // ... add other private include paths required here ...
       }
   );
   PublicDependencyModuleNames.AddRange(
       new string[]
       {
           "Core",
           "YourRunTimeModule"
           // ... add other public dependencies that you statically link with here ...
       }
   );
   PrivateDependencyModuleNames.AddRange(
       new string[]
       {
           // ... add private dependencies that you statically link with here ...
           "Core",
           "CoreUObject",
           "InputCore",
           "Slate",
           "Engine",
           "AssetTools",
           "UnrealEd", // for FAssetEditorManager
           "KismetWidgets",
           "KismetCompiler",
           "BlueprintGraph",
           "GraphEditor",
           "Kismet",  // for FWorkflowCentricApplication
           "PropertyEditor",
           "EditorStyle",
           "Slate",
           "SlateCore",
           "MovieSceneCore",
           "Sequencer",
           "DetailCustomizations",
           "Settings",
           "RenderCore",
       }
   );
</pre>
<p></code>
</p>
<h2><span class="mw-headline" id="Implementing_Node:">Implementing Node:</span></h2>
<p>Now add new class, to your editor module. Name it something Like BPNode_MyNode (mine is named BPNode_CreateItemData). Epic convention is K2, but it was from before Blueprint name has been invented (;.
</p><p>Header:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co2">#pragma once</span>
<span class="co2">#include &quot;K2Node.h&quot;</span>
<span class="co2">#include &quot;K2Node_ConstructObjectFromClass.h&quot;</span>
<span class="co2">#include &quot;BPNode_CreateItemData.generated.h&quot;</span>
&#160;
UCLASS<span class="br0">&#40;</span>BlueprintType, Blueprintable<span class="br0">&#41;</span>
<span class="kw2">class</span> GAMEINVENTORYSYSTEMEDITOR_API UBPNode_CreateItemData <span class="sy4">:</span> <span class="kw2">public</span> UK2Node_ConstructObjectFromClass
<span class="br0">&#123;</span>
    GENERATED_UCLASS_BODY<span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
    <span class="co1">// Begin UEdGraphNode interface.</span>
    <span class="kw2">virtual</span> <span class="kw4">void</span> AllocateDefaultPins<span class="br0">&#40;</span><span class="br0">&#41;</span> override<span class="sy4">;</span>
    <span class="kw2">virtual</span> FLinearColor GetNodeTitleColor<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span> override<span class="sy4">;</span>
    <span class="co1">//this is where node will be expanded with additional pins!</span>
    <span class="kw2">virtual</span> <span class="kw4">void</span> ExpandNode<span class="br0">&#40;</span><span class="kw2">class</span> FKismetCompilerContext<span class="sy3">&amp;</span> CompilerContext, UEdGraph<span class="sy2">*</span> SourceGraph<span class="br0">&#41;</span> override<span class="sy4">;</span>
    <span class="co1">// End UEdGraphNode interface.</span>
&#160;
    <span class="co1">// Begin UK2Node interface</span>
    <span class="kw4">void</span> GetMenuEntries<span class="br0">&#40;</span>FGraphContextMenuBuilder<span class="sy3">&amp;</span> ContextMenuBuilder<span class="br0">&#41;</span> <span class="kw4">const</span><span class="sy4">;</span>
    <span class="kw2">virtual</span> FText GetMenuCategory<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span> override<span class="sy4">;</span>
    <span class="co1">// End UK2Node interface.</span>
&#160;
    <span class="coMULTI">/** Get the owning player pin */</span>
    UEdGraphPin<span class="sy2">*</span> GetOwningPlayerPin<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span><span class="sy4">;</span>
&#160;
<span class="kw2">protected</span><span class="sy4">:</span>
    <span class="coMULTI">/** Gets the default node title when no class is selected */</span>
    <span class="kw2">virtual</span> FText GetBaseNodeTitle<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span><span class="sy4">;</span>
    <span class="coMULTI">/** Gets the node title when a class has been selected. */</span>
    <span class="kw2">virtual</span> FText GetNodeTitleFormat<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span><span class="sy4">;</span>
    <span class="coMULTI">/** Gets base class to use for the 'class' pin.  UObject by default. */</span>
    <span class="kw2">virtual</span> UClass<span class="sy2">*</span> GetClassPinBaseClass<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span><span class="sy4">;</span>
    <span class="sy2">**</span>  <span class="sy2">*/</span>
    <span class="kw2">virtual</span> <span class="kw4">bool</span> IsSpawnVarPin<span class="br0">&#40;</span>UEdGraphPin<span class="sy2">*</span> Pin<span class="br0">&#41;</span> override<span class="sy4">;</span>
<span class="br0">&#125;</span><span class="sy4">;</span></pre></div></div>
<p>Implementation:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// Copyright 1998-2014 Epic Games, Inc. All Rights Reserved.</span>
&#160;
<span class="co2">#include &quot;GameInventorySystemEditor.h&quot;</span>
&#160;
<span class="co2">#include &quot;GISBlueprintFunctionLibrary.h&quot;</span>
<span class="co2">#include &quot;GISItemData.h&quot;</span>
&#160;
<span class="co2">#include &quot;KismetCompiler.h&quot;</span>
<span class="co2">#include &quot;BlueprintNodeSpawner.h&quot;</span>
<span class="co2">#include &quot;EditorCategoryUtils.h&quot;</span>
<span class="co2">#include &quot;K2ActionMenuBuilder.h&quot;</span>
&#160;
<span class="co2">#include &quot;BPNode_CreateItemData.h&quot;</span>
&#160;
<span class="co2">#define LOCTEXT_NAMESPACE &quot;GameInventorySystem&quot;</span>
&#160;
<span class="co1">//Helper which will store one of the function inputs we excpect BP callable function will have.</span>
<span class="kw4">struct</span> FBPNode_CreateItemDataHelper
<span class="br0">&#123;</span>
	<span class="kw4">static</span> FString OwningPlayerPinName<span class="sy4">;</span>
<span class="br0">&#125;</span><span class="sy4">;</span>
&#160;
FString FBPNode_CreateItemDataHelper<span class="sy4">::</span><span class="me2">OwningPlayerPinName</span><span class="br0">&#40;</span>TEXT<span class="br0">&#40;</span><span class="st0">&quot;OwningPlayer&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">UBPNode_CreateItemData</span><span class="br0">&#40;</span><span class="kw4">const</span> FObjectInitializer<span class="sy3">&amp;</span> ObjectInitializer<span class="br0">&#41;</span>
	<span class="sy4">:</span> Super<span class="br0">&#40;</span>ObjectInitializer<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	NodeTooltip <span class="sy1">=</span> LOCTEXT<span class="br0">&#40;</span><span class="st0">&quot;NodeTooltip&quot;</span>, <span class="st0">&quot;Creates a new Item Data&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//Adds default pins to node. These Pins (inputs&#160;?) are always displayed.</span>
<span class="kw4">void</span> UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">AllocateDefaultPins</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	Super<span class="sy4">::</span><span class="me2">AllocateDefaultPins</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="kw4">const</span> UEdGraphSchema_K2<span class="sy2">*</span> K2Schema <span class="sy1">=</span> GetDefault<span class="sy1">&lt;</span>UEdGraphSchema_K2<span class="sy1">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">// OwningPlayer pin</span>
	UEdGraphPin<span class="sy2">*</span> OwningPlayerPin <span class="sy1">=</span> CreatePin<span class="br0">&#40;</span>EGPD_Input, K2Schema<span class="sy2">-</span><span class="sy1">&gt;</span>PC_Object, TEXT<span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="br0">&#41;</span>, APlayerController<span class="sy4">::</span><span class="me2">StaticClass</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="kw2">false</span>, <span class="kw2">false</span>, FBPNode_CreateItemDataHelper<span class="sy4">::</span><span class="me2">OwningPlayerPinName</span><span class="br0">&#41;</span><span class="sy4">;</span>
	SetPinToolTip<span class="br0">&#40;</span><span class="sy2">*</span>OwningPlayerPin, LOCTEXT<span class="br0">&#40;</span><span class="st0">&quot;OwningPlayerPinDescription&quot;</span>, <span class="st0">&quot;The player that 'owns' the this item.&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
FLinearColor UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">GetNodeTitleColor</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span>
<span class="br0">&#123;</span>
	<span class="kw1">return</span> Super<span class="sy4">::</span><span class="me2">GetNodeTitleColor</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
FText UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">GetBaseNodeTitle</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span>
<span class="br0">&#123;</span>
	<span class="kw1">return</span> LOCTEXT<span class="br0">&#40;</span><span class="st0">&quot;CreateItemData_BaseTitle&quot;</span>, <span class="st0">&quot;Create Item Data&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
FText UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">GetNodeTitleFormat</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span>
<span class="br0">&#123;</span>
	<span class="kw1">return</span> LOCTEXT<span class="br0">&#40;</span><span class="st0">&quot;CreateItemData&quot;</span>, <span class="st0">&quot;Create {ClassName} Item Data&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//which class can be used with this node to create objects. All childs of class can be used.</span>
UClass<span class="sy2">*</span> UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">GetClassPinBaseClass</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span>
<span class="br0">&#123;</span>
	<span class="kw1">return</span> UGISItemData<span class="sy4">::</span><span class="me2">StaticClass</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//Set context menu category in which our node will be present.</span>
FText UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">GetMenuCategory</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span>
<span class="br0">&#123;</span>
	<span class="kw1">return</span> FText<span class="sy4">::</span><span class="me2">FromString</span><span class="br0">&#40;</span><span class="st0">&quot;Game Inventory System&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">GetMenuEntries</span><span class="br0">&#40;</span>FGraphContextMenuBuilder<span class="sy3">&amp;</span> ContextMenuBuilder<span class="br0">&#41;</span> <span class="kw4">const</span>
<span class="br0">&#123;</span>
	UBPNode_CreateItemData<span class="sy2">*</span> TemplateNode <span class="sy1">=</span> NewObject<span class="sy1">&lt;</span>UBPNode_CreateItemData<span class="sy1">&gt;</span><span class="br0">&#40;</span>GetTransientPackage<span class="br0">&#40;</span><span class="br0">&#41;</span>, GetClass<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="kw4">const</span> FString Category <span class="sy1">=</span> TEXT<span class="br0">&#40;</span><span class="st0">&quot;UGame Inventory System&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">const</span> FText   MenuDesc <span class="sy1">=</span> LOCTEXT<span class="br0">&#40;</span><span class="st0">&quot;CreateItemDataMenuOption&quot;</span>, <span class="st0">&quot;Create Item Data...&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">const</span> FString Tooltip <span class="sy1">=</span> TEXT<span class="br0">&#40;</span><span class="st0">&quot;Create a new Item Data container&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	TSharedPtr<span class="sy1">&lt;</span>FEdGraphSchemaAction_K2NewNode<span class="sy1">&gt;</span> NodeAction <span class="sy1">=</span> FK2ActionMenuBuilder<span class="sy4">::</span><span class="me2">AddNewNodeAction</span><span class="br0">&#40;</span>ContextMenuBuilder, Category, MenuDesc, Tooltip<span class="br0">&#41;</span><span class="sy4">;</span>
	NodeAction<span class="sy2">-</span><span class="sy1">&gt;</span>NodeTemplate <span class="sy1">=</span> TemplateNode<span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//gets out predefined pin</span>
UEdGraphPin<span class="sy2">*</span> UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">GetOwningPlayerPin</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span>
<span class="br0">&#123;</span>
	UEdGraphPin<span class="sy2">*</span> Pin <span class="sy1">=</span> FindPin<span class="br0">&#40;</span>FBPNode_CreateItemDataHelper<span class="sy4">::</span><span class="me2">OwningPlayerPinName</span><span class="br0">&#41;</span><span class="sy4">;</span>
	check<span class="br0">&#40;</span>Pin <span class="sy1">==</span> <span class="kw2">NULL</span> <span class="sy3">||</span> Pin<span class="sy2">-</span><span class="sy1">&gt;</span>Direction <span class="sy1">==</span> EGPD_Input<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">return</span> Pin<span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">bool</span> UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">IsSpawnVarPin</span><span class="br0">&#40;</span>UEdGraphPin<span class="sy2">*</span> Pin<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">return</span><span class="br0">&#40;</span>Super<span class="sy4">::</span><span class="me2">IsSpawnVarPin</span><span class="br0">&#40;</span>Pin<span class="br0">&#41;</span> <span class="sy3">&amp;&amp;</span>
		Pin<span class="sy2">-</span><span class="sy1">&gt;</span>PinName <span class="sy3">!</span><span class="sy1">=</span> FBPNode_CreateItemDataHelper<span class="sy4">::</span><span class="me2">OwningPlayerPinName</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//and this is where magic really happens. This will expand node for our custom object, with properties</span>
<span class="co1">//which are set as EditAwnywhere and meta=(ExposeOnSpawn), or equivalent in blueprint.</span>
<span class="kw4">void</span> UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">ExpandNode</span><span class="br0">&#40;</span><span class="kw2">class</span> FKismetCompilerContext<span class="sy3">&amp;</span> CompilerContext, UEdGraph<span class="sy2">*</span> SourceGraph<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	Super<span class="sy4">::</span><span class="me2">ExpandNode</span><span class="br0">&#40;</span>CompilerContext, SourceGraph<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//look for static function in BlueprintFunctionLibrary</span>
	<span class="co1">//In this class and of this name</span>
	<span class="kw4">static</span> FName Create_FunctionName <span class="sy1">=</span> GET_FUNCTION_NAME_CHECKED<span class="br0">&#40;</span>UGISBlueprintFunctionLibrary, Create<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//with these inputs (as a Side note, these should be probabaly FName not FString)</span>
	<span class="kw4">static</span> FString WorldContextObject_ParamName <span class="sy1">=</span> FString<span class="br0">&#40;</span>TEXT<span class="br0">&#40;</span><span class="st0">&quot;WorldContextObject&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">static</span> FString WidgetType_ParamName <span class="sy1">=</span> FString<span class="br0">&#40;</span>TEXT<span class="br0">&#40;</span><span class="st0">&quot;ItemType&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">static</span> FString OwningPlayer_ParamName <span class="sy1">=</span> FString<span class="br0">&#40;</span>TEXT<span class="br0">&#40;</span><span class="st0">&quot;OwningPlayer&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//get pointer to self;</span>
	UBPNode_CreateItemData<span class="sy2">*</span> CreateItemDataNode <span class="sy1">=</span> <span class="kw3">this</span><span class="sy4">;</span>
&#160;
	<span class="co1">//get pointers to default pins.</span>
	<span class="co1">//Exec pins are those big arrows, connected with thick white lines.</span>
	UEdGraphPin<span class="sy2">*</span> SpawnNodeExec <span class="sy1">=</span> CreateItemDataNode<span class="sy2">-</span><span class="sy1">&gt;</span>GetExecPin<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//gets world context pin from our static function</span>
	UEdGraphPin<span class="sy2">*</span> SpawnWorldContextPin <span class="sy1">=</span> CreateItemDataNode<span class="sy2">-</span><span class="sy1">&gt;</span>GetWorldContextPin<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//the same as above</span>
	UEdGraphPin<span class="sy2">*</span> SpawnOwningPlayerPin <span class="sy1">=</span> CreateItemDataNode<span class="sy2">-</span><span class="sy1">&gt;</span>GetOwningPlayerPin<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//get class pin which is used to determine which class to spawn.</span>
	UEdGraphPin<span class="sy2">*</span> SpawnClassPin <span class="sy1">=</span> CreateItemDataNode<span class="sy2">-</span><span class="sy1">&gt;</span>GetClassPin<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//then pin is the same as exec pin, just on the other side (the out arrow).</span>
	UEdGraphPin<span class="sy2">*</span> SpawnNodeThen <span class="sy1">=</span> CreateItemDataNode<span class="sy2">-</span><span class="sy1">&gt;</span>GetThenPin<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//result pin, which will output our spawned object.</span>
	UEdGraphPin<span class="sy2">*</span> SpawnNodeResult <span class="sy1">=</span> CreateItemDataNode<span class="sy2">-</span><span class="sy1">&gt;</span>GetResultPin<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	UClass<span class="sy2">*</span> SpawnClass <span class="sy1">=</span> <span class="br0">&#40;</span>SpawnClassPin <span class="sy3">!</span><span class="sy1">=</span> <span class="kw2">NULL</span><span class="br0">&#41;</span> <span class="sy4">?</span> Cast<span class="sy1">&lt;</span>UClass<span class="sy1">&gt;</span><span class="br0">&#40;</span>SpawnClassPin<span class="sy2">-</span><span class="sy1">&gt;</span>DefaultObject<span class="br0">&#41;</span> <span class="sy4">:</span> <span class="kw2">NULL</span><span class="sy4">;</span>
	<span class="kw1">if</span> <span class="br0">&#40;</span><span class="br0">&#40;</span><span class="nu0">0</span> <span class="sy1">==</span> SpawnClassPin<span class="sy2">-</span><span class="sy1">&gt;</span>LinkedTo.<span class="me1">Num</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy3">&amp;&amp;</span> <span class="br0">&#40;</span><span class="kw2">NULL</span> <span class="sy1">==</span> SpawnClass<span class="br0">&#41;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		CompilerContext.<span class="me1">MessageLog</span>.<span class="me1">Error</span><span class="br0">&#40;</span><span class="sy2">*</span>LOCTEXT<span class="br0">&#40;</span><span class="st0">&quot;CreateItemDAtaNodeMissingClass_Error&quot;</span>, <span class="st0">&quot;Spawn node @@ must have a class specified.&quot;</span><span class="br0">&#41;</span>.<span class="me1">ToString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, CreateItemDataNode<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="co1">// we break exec links so this is the only error we get, don't want the CreateItemData node being considered and giving 'unexpected node' type warnings</span>
		CreateItemDataNode<span class="sy2">-</span><span class="sy1">&gt;</span>BreakAllNodeLinks<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//////////////////////////////////////////////////////////////////////////</span>
	<span class="co1">// create 'UWidgetBlueprintLibrary::Create' call node</span>
	UK2Node_CallFunction<span class="sy2">*</span> CallCreateNode <span class="sy1">=</span> CompilerContext.<span class="me1">SpawnIntermediateNode</span><span class="sy1">&lt;</span>UK2Node_CallFunction<span class="sy1">&gt;</span><span class="br0">&#40;</span>CreateItemDataNode, SourceGraph<span class="br0">&#41;</span><span class="sy4">;</span>
	CallCreateNode<span class="sy2">-</span><span class="sy1">&gt;</span>FunctionReference.<span class="me1">SetExternalMember</span><span class="br0">&#40;</span>Create_FunctionName, UBPNode_CreateItemData<span class="sy4">::</span><span class="me2">StaticClass</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	CallCreateNode<span class="sy2">-</span><span class="sy1">&gt;</span>AllocateDefaultPins<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//allocate nodes for created widget.</span>
	UEdGraphPin<span class="sy2">*</span> CallCreateExec <span class="sy1">=</span> CallCreateNode<span class="sy2">-</span><span class="sy1">&gt;</span>GetExecPin<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	UEdGraphPin<span class="sy2">*</span> CallCreateWorldContextPin <span class="sy1">=</span> CallCreateNode<span class="sy2">-</span><span class="sy1">&gt;</span>FindPinChecked<span class="br0">&#40;</span>WorldContextObject_ParamName<span class="br0">&#41;</span><span class="sy4">;</span>
	UEdGraphPin<span class="sy2">*</span> CallCreateWidgetTypePin <span class="sy1">=</span> CallCreateNode<span class="sy2">-</span><span class="sy1">&gt;</span>FindPinChecked<span class="br0">&#40;</span>WidgetType_ParamName<span class="br0">&#41;</span><span class="sy4">;</span>
	UEdGraphPin<span class="sy2">*</span> CallCreateOwningPlayerPin <span class="sy1">=</span> CallCreateNode<span class="sy2">-</span><span class="sy1">&gt;</span>FindPinChecked<span class="br0">&#40;</span>OwningPlayer_ParamName<span class="br0">&#41;</span><span class="sy4">;</span>
	UEdGraphPin<span class="sy2">*</span> CallCreateResult <span class="sy1">=</span> CallCreateNode<span class="sy2">-</span><span class="sy1">&gt;</span>GetReturnValuePin<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">// Move 'exec' connection from create widget node to 'UWidgetBlueprintLibrary::Create'</span>
	CompilerContext.<span class="me1">MovePinLinksToIntermediate</span><span class="br0">&#40;</span><span class="sy2">*</span>SpawnNodeExec, <span class="sy2">*</span>CallCreateExec<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="kw1">if</span> <span class="br0">&#40;</span>SpawnClassPin<span class="sy2">-</span><span class="sy1">&gt;</span>LinkedTo.<span class="me1">Num</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">// Copy the 'blueprint' connection from the spawn node to 'UWidgetBlueprintLibrary::Create'</span>
		CompilerContext.<span class="me1">MovePinLinksToIntermediate</span><span class="br0">&#40;</span><span class="sy2">*</span>SpawnClassPin, <span class="sy2">*</span>CallCreateWidgetTypePin<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
	<span class="kw1">else</span>
	<span class="br0">&#123;</span>
		<span class="co1">// Copy blueprint literal onto 'UWidgetBlueprintLibrary::Create' call </span>
		CallCreateWidgetTypePin<span class="sy2">-</span><span class="sy1">&gt;</span>DefaultObject <span class="sy1">=</span> SpawnClass<span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">// Copy the world context connection from the spawn node to 'UWidgetBlueprintLibrary::Create' if necessary</span>
	<span class="kw1">if</span> <span class="br0">&#40;</span>SpawnWorldContextPin<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		CompilerContext.<span class="me1">MovePinLinksToIntermediate</span><span class="br0">&#40;</span><span class="sy2">*</span>SpawnWorldContextPin, <span class="sy2">*</span>CallCreateWorldContextPin<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">// Copy the 'Owning Player' connection from the spawn node to 'UWidgetBlueprintLibrary::Create'</span>
	CompilerContext.<span class="me1">MovePinLinksToIntermediate</span><span class="br0">&#40;</span><span class="sy2">*</span>SpawnOwningPlayerPin, <span class="sy2">*</span>CallCreateOwningPlayerPin<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">// Move result connection from spawn node to 'UWidgetBlueprintLibrary::Create'</span>
	CallCreateResult<span class="sy2">-</span><span class="sy1">&gt;</span>PinType <span class="sy1">=</span> SpawnNodeResult<span class="sy2">-</span><span class="sy1">&gt;</span>PinType<span class="sy4">;</span> <span class="co1">// Copy type so it uses the right actor subclass</span>
	CompilerContext.<span class="me1">MovePinLinksToIntermediate</span><span class="br0">&#40;</span><span class="sy2">*</span>SpawnNodeResult, <span class="sy2">*</span>CallCreateResult<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//////////////////////////////////////////////////////////////////////////</span>
	<span class="co1">// create 'set var' nodes</span>
&#160;
	<span class="co1">// Get 'result' pin from 'begin spawn', this is the actual actor we want to set properties on</span>
	UEdGraphPin<span class="sy2">*</span> LastThen <span class="sy1">=</span> FKismetCompilerUtilities<span class="sy4">::</span><span class="me2">GenerateAssignmentNodes</span><span class="br0">&#40;</span>CompilerContext, SourceGraph, CallCreateNode, CreateItemDataNode, CallCreateResult, GetClassToSpawn<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">// Move 'then' connection from create widget node to the last 'then'</span>
	CompilerContext.<span class="me1">MovePinLinksToIntermediate</span><span class="br0">&#40;</span><span class="sy2">*</span>SpawnNodeThen, <span class="sy2">*</span>LastThen<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">// Break any links to the expanded node</span>
	CreateItemDataNode<span class="sy2">-</span><span class="sy1">&gt;</span>BreakAllNodeLinks<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co2">#undef LOCTEXT_NAMESPACE</span></pre></div></div>
<p>Hopefully comments should explain what this code does. The short version is, it create node with dynamically allocated pins, which construct custom objects.
</p><p><br />
<a href="/index.php?title=User:Iniside&amp;action=edit&amp;redlink=1" class="new" title="User:Iniside (page does not exist)">iniside</a> (<a href="/index.php?title=User_talk:Iniside&amp;action=edit&amp;redlink=1" class="new" title="User talk:Iniside (page does not exist)">talk</a>)
</p>
<!-- 
NewPP limit report
CPU time usage: 0.060 seconds
Real time usage: 0.061 seconds
Preprocessor visited node count: 43/1000000
Preprocessor generated node count: 116/1000000
Postexpand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key my_wiki:pcache:idhash:3008-0!*!0!!*!*!* and timestamp 20150906152209
 -->
</div>												<div class="printfooter">
				Retrieved from "<a href="https://wiki.unrealengine.com/index.php?title=Create_Custom_K2_Node_For_Blueprint&amp;oldid=10481">https://wiki.unrealengine.com/index.php?title=Create_Custom_K2_Node_For_Blueprint&amp;oldid=10481</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/Category:Code" title="Category:Code">Code</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		</div>
		</div>
		
		<div id="footer">
			<div id="brand">

			</div>
			<div id="legal">
				<div id="copyright">
					&copy; 2004-2015, Epic Games, Inc. All rights reserved. Unreal and its logo are Epic's trademarks or registered trademarks in the US and elsewhere.
				</div>
				<div id="terms">
					<a target="_blank" href="http://epicgames.com/tou">TERMS OF USE</a> | <a target="_blank" href="http://epicgames.com/privacynotice">PRIVACY POLICY</a>
				</div>
			</div>
		</div>
	</div>
		<!--<div id="footer" role="contentinfo">
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<div name="copyright">&#169; 2004-2014, Epic Games, Inc. All rights reserved. Epic Games, Unreal, Unreal Engine, Unreal Tournament, and their respective logos are Epic's trademarks or registered trademarks in the US and elsewhere.</div>
					</li>
					<li id="footer-termsofuseico">
						<div name="termsofuse"><a href="http://epicgames.com/tou" target="_blank">Terms of Use</a></div>
					</li>
					<li id="footer-privacynoticeico">
						<div name="privacynotice"><a href="http://epicgames.com/privacynotice" target="_blank">Privacy Policy</a></div>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>-->
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="/extensions/EpicSearchSystem/Javascript/Search.js?303"></script>
<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=epic&amp;*"></script>
<!-- Served in 0.140 secs. -->		<img src="https://tracking.unrealengine.com/track.png" width="1" height="1">
		<!--<script type="text/javascript">
			setTimeout(function () {
				var a = document.createElement("script");
				var b = document.getElementsByTagName("script")[0];
				a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
				a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
			}, 1);
		</script>-->
	</body>
</html>

		