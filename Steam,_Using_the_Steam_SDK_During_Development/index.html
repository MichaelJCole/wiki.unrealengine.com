<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/1020.f6350183.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Steam, Using the Steam SDK During Development - Epic Wiki</p> <h1 id="steam-using-the-steam-sdk-during-development"><a href="#steam-using-the-steam-sdk-during-development" class="header-anchor">#</a> Steam, Using the Steam SDK During Development</h1> <p>From Epic Wiki</p> <p>Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a></p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Overview">1 Overview</a></li> <li><a href="#Steamworks_SDK">2 Steamworks SDK</a></li> <li><a href="#Github_Engine_Builds_vs_Retail_UE4_Builds">3 Github Engine Builds vs Retail UE4 Builds</a> <ul><li><a href="#Retail_Builds_Skip_to_This_Step">3.1 Retail Builds Skip to This Step</a></li></ul></li> <li><a href="#Engine.2FSource.2FThirdParty.2FSteamworks">4 Engine/Source/ThirdParty/Steamworks</a></li> <li><a href="#Steam_Build_CS">5 Steam Build CS</a></li> <li><a href="#Engine.2FBinaries.2FThirdParty.2FSteamworks">6 Engine/Binaries/ThirdParty/Steamworks</a></li> <li><a href="#Dll_Files">7 Dll Files</a> <ul><li><a href="#Win64">7.1 Win64</a></li> <li><a href="#Win32">7.2 Win32</a></li></ul></li> <li><a href="#Build.CS">8 Build.CS</a></li> <li><a href="#Target.cs">9 Target.cs</a></li> <li><a href="#Config.2FDefaultEngine.ini">10 Config/DefaultEngine.ini</a></li> <li><a href="#WinPlatform.Automation.cs">11 WinPlatform.Automation.cs</a></li> <li><a href="#OnlineSubsystemPlugin">12 OnlineSubsystemPlugin</a></li> <li><a href="#Some_Tips">13 Some Tips</a></li> <li><a href="#Epic_Tutorial">14 Epic Tutorial</a></li> <li><a href="#Packaging">15 Packaging</a></li> <li><a href="#Packaging_w.2F_Steam_for_Shipping_Builds">16 Packaging w/ Steam for Shipping Builds</a></li> <li><a href="#Running_Steam_on_Mac">17 Running Steam on Mac</a></li> <li><a href="#Conclusion">18 Conclusion</a></li></ul> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p><em>Original Author:</em> Rama</p> <p>Dear Community,</p> <p>This is my guide to getting Steamworks running with your game!</p> <p>You do not need to have been Greenlit to start using the Steam SDK during your game's development process.</p> <h2 id="steamworks-sdk"><a href="#steamworks-sdk" class="header-anchor">#</a> Steamworks SDK</h2> <p>(in 4.7 and beyond you dont need to do this step, you will find the Steam binaries in Engine/Binaries/ThirdParty/Steamworks)</p> <p>Download the steamworks SDK:</p> <p><a href="https://partner.steamgames.com/%7C" target="_blank" rel="noopener noreferrer">Steamworks SDK<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Identify what the latest version is that you are downloading, such as &quot;v129a&quot;</p> <h2 id="github-engine-builds-vs-retail-ue4-builds"><a href="#github-engine-builds-vs-retail-ue4-builds" class="header-anchor">#</a> Github Engine Builds vs Retail UE4 Builds</h2> <p>Please note that recompiling the engine and modifying the Steamworks build cs is not required.</p> <p>If you are not using your own locally built verison of the engine you should be able to simply download the Steam SDK and skip to this step:</p> <h3 id="retail-builds-skip-to-this-step"><a href="#retail-builds-skip-to-this-step" class="header-anchor">#</a> Retail Builds Skip to This Step</h3> <p><strong><a href="#Engine.2FBinaries.2FThirdParty.2FSteamworks">Binaries, DLL copying</a></strong></p> <h2 id="engine-source-thirdparty-steamworks"><a href="#engine-source-thirdparty-steamworks" class="header-anchor">#</a> Engine/Source/ThirdParty/Steamworks</h2> <p>Copy the entire contents of the downloaded SDK to</p> <p>Engine/Source/ThirdParty/Steamworks/Steamv129a</p> <p>or whatever your current version is!</p> <p>So you will end up with folder structure like this</p> <p>Engine/Source/ThirdParty/Steamworks/Steamv129a/sdk/</p> <h2 id="steam-build-cs"><a href="#steam-build-cs" class="header-anchor">#</a> Steam Build CS</h2> <p>Open the Steam Build CS contained in the directory structure</p> <p>Engine/Source/ThirdParty/Steamworks/</p> <p>Make sure the version number there matches the version you downloaded as the Steam SDK!</p> <h2 id="engine-binaries-thirdparty-steamworks"><a href="#engine-binaries-thirdparty-steamworks" class="header-anchor">#</a> Engine/Binaries/ThirdParty/Steamworks</h2> <p>Now in your UE4 engine's <strong>Binaries</strong> folder you must create this directory structure</p> <p>Engine/Binaries/ThirdParty/Steamworks/Steamv129a/Win64
Engine/Binaries/ThirdParty/Steamworks/Steamv129a/Win32</p> <p>Remember to use your current steam version as shown in the SDK you downloaded!</p> <h2 id="dll-files"><a href="#dll-files" class="header-anchor">#</a> Dll Files</h2> <p>Dlls marked with (<em>Steam Client Install Dir</em>) are found in your <strong>program files x86 / Steam</strong> directory (regular steam client)</p> <p>The other 2 dlls are found in the SDK you downloaded in this directory structure</p> <p>sdk/redistributable_bin</p> <h3 id="win64"><a href="#win64" class="header-anchor">#</a> Win64</h3> <p>steam_api64.dll	(Downloaded SDK)
steamclient64.dll 	(Steam Client Install Dir)
tier0_s64.dll		(Steam Client Install Dir)
vstdlib_s64.dll 	(Steam Client Install Dir)</p> <h3 id="win32"><a href="#win32" class="header-anchor">#</a> Win32</h3> <p>steam_api.dll		(Downloaded SDK)
steamclient.dll 	(Steam Client Install Dir)
tier0_s.dll  		(Steam Client Install Dir)
vstdlib_s.dll  	(Steam Client Install Dir)</p> <h2 id="build-cs"><a href="#build-cs" class="header-anchor">#</a> Build.CS</h2> <p>In your game's build.cs you need to include this:</p> <p>PublicDependencyModuleNames.AddRange(new string[] {
&quot;OnlineSubsystem&quot;,
&quot;OnlineSubsystemUtils&quot;
});</p> <p>DynamicallyLoadedModuleNames.Add(&quot;OnlineSubsystemSteam&quot;);</p> <h2 id="target-cs"><a href="#target-cs" class="header-anchor">#</a> Target.cs</h2> <p>In your game's Target.cs, add <strong>bUsesSteam=true</strong> in the constructor. Here's an example:</p> <p><syntaxhighlight lang="cpp"> public class ShooterGameTarget : TargetRules {</syntaxhighlight></p> <p>public ShooterGameTarget(TargetInfo Target)
{
Type = TargetType.Game;
bUsesSteam = true;
}
.....</p> <h2 id="config-defaultengine-ini"><a href="#config-defaultengine-ini" class="header-anchor">#</a> Config/DefaultEngine.ini</h2> <p><syntaxhighlight lang="cpp"> [/Script/Engine.GameEngine] !NetDriverDefinitions=ClearArray +NetDriverDefinitions=(DefName=&quot;GameNetDriver&quot;,DriverClassName=&quot;/Script/OnlineSubsystemSteam.SteamNetDriver&quot;,DriverClassNameFallback=&quot;/Script/OnlineSubsystemUtils.IpNetDriver&quot;)</syntaxhighlight></p> <p>[OnlineSubsystem] DefaultPlatformService=Steam PollingIntervalInMs=20</p> <p>[OnlineSubsystemSteam] bEnabled=true SteamDevAppId=480 GameServerQueryPort=27015 bRelaunchInSteam=false GameVersion=1.0.0.0 bVACEnabled=1 bAllowP2PPacketRelay=true P2PConnectionTimeout=90</p> <p>[/Script/OnlineSubsystemSteam.SteamNetDriver] NetConnectionClassName=&quot;/Script/OnlineSubsystemSteam.SteamNetConnection&quot; </p> <h2 id="winplatform-automation-cs"><a href="#winplatform-automation-cs" class="header-anchor">#</a> WinPlatform.Automation.cs</h2> <p>In Visual Studio, this file is in the folder <strong>Programs/Automation/Win.Automation/WinPlatform.Automation.cs</strong>. Open it, and check that this string has your Steam API version:</p> <p>string SteamVersion = &quot;Steamv131&quot;;</p> <h2 id="onlinesubsystemplugin"><a href="#onlinesubsystemplugin" class="header-anchor">#</a> OnlineSubsystemPlugin</h2> <p>&gt;Edit from Rumbleball 29.03.2018</p> <p>This Wiki entry seems to be pretty old and there seems to be some changes to the engine. UE4.16+ (at least) you will need to enable the OnlinesubSystemSteam Plugin for your game. If you don't do that, you will get the following warnings in the output window of the editor: <syntaxhighlight lang="cpp"></syntaxhighlight></p> <p>LogModuleManager:Warning: No filename provided for module OnlineSubsystemSteam
LogModuleManager:Warning: ModuleManager: Unable to load module 'OnlineSubsystemSteam' because the file 'D:/Programs/Epic Games/4.13/Engine/Binaries/Win64/' was not found.</p> <p> To enable the plugin: Open the editor and go to Edit-&gt;Plugins-&gt;Online Platform and enable 'Online Subsystem Steam'</p> <h2 id="some-tips"><a href="#some-tips" class="header-anchor">#</a> Some Tips</h2> <p>1. There is an awesome program written by a community member named Garner. Check it out here:</p> <p><a href="https://forums.unrealengine.com/showthread.php?67565-Steam-Setup-Utility" target="_blank" rel="noopener noreferrer">Steam Setup Utility by Garner<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>2. Trying to run your game in PIE mode may give you a &quot;Steam API disabled!&quot; Error. Run your game in standalone mode to see if things get better.</p> <h2 id="epic-tutorial"><a href="#epic-tutorial" class="header-anchor">#</a> Epic Tutorial</h2> <p>Epic's tutorial on this subject is here:</p> <p><a href="https://docs.unrealengine.com/latest/INT/Programming/Online/Steam/index.html" target="_blank" rel="noopener noreferrer">Online Subsystem Steam<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="packaging"><a href="#packaging" class="header-anchor">#</a> Packaging</h2> <p>(This is not required in more recent engine builds, just check the ThirdParty folder to make sure Steam is there)</p> <p>When packaging your game you must copy the Steam binaries from the engine ThirdParty to your packaged game Engine/ThirdParty</p> <p>Engine/Binaries/ThirdParty/Steamworks</p> <h2 id="packaging-w-steam-for-shipping-builds"><a href="#packaging-w-steam-for-shipping-builds" class="header-anchor">#</a> Packaging w/ Steam for Shipping Builds</h2> <p>For shipping builds you must manually create a file called:</p> <p>steam_appid.txt</p> <p>and in that file put just your app id with no extra whitespaces (spaces or returns or anything like that)</p> <p>to test you could create such a file and put just 480 in it.</p> <p>♥ Rama</p> <h2 id="running-steam-on-mac"><a href="#running-steam-on-mac" class="header-anchor">#</a> Running Steam on Mac</h2> <p>Quoting Epic tutorial:</p> <p>Contrary to Windows, Steam Overlay on Mac requires game to be launched using Steam client. For this you first need to add the game to your library using &quot;Add a Non-Steam Game to My Library&quot; option from Steam's Games menu.<a href="https://docs.unrealengine.com/latest/INT/Programming/Online/Steam/index.html#steamoverlayonmac" target="_blank" rel="noopener noreferrer">[1]<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>If everything works you will see the steam pop up appear in the lower right and you can press SHIFT+TAB to see the Steam overlay!</p> <p>If you see in your log that the .dlls can't be found, check two things</p> <p>1. You put them in <strong>Binaries</strong> not Source</p> <p>2. and you named the folder appropriately for your version number, ex:</p> <p>Binaries/ThirdParty/Steamworks/Steamv129</p> <p>Enjoy!</p> <p><a href="/index.php?title=User:Rama" title="User:Rama">Rama</a> (<a href="/index.php?title=User_talk:Rama" title="User talk:Rama">talk</a>)</p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Steam,_Using_the_Steam_SDK_During_Development&amp;oldid=59" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Steam,_Using_the_Steam_SDK_During_Development&amp;oldid=59<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/index.php?title=Special:Categories" title="Special:Categories">Category</a>:</p> <ul><li><a href="/index.php?title=Category:Code" title="Category:Code">Code</a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/1020.f6350183.js" defer></script>
  </body>
</html>
