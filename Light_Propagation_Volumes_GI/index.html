<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/795.1ac03f66.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Light Propagation Volumes GI - Epic Wiki</p> <h1 id="light-propagation-volumes-gi"><a href="#light-propagation-volumes-gi" class="header-anchor">#</a> Light Propagation Volumes GI</h1> <p>From Epic Wiki</p> <p>Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a></p> <p><a href="/index.php?title=Template:Rating&amp;action=edit&amp;redlink=1" title="Template:Rating (page does not exist)">Template:Rating</a></p> <p>_**</p> <p>Light Propagation Volumes (LPV) are currently implemented as a Work in Progress feature! Expect bugs and flaws while working with them!</p> <p>**_</p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Description">1 Description</a></li> <li><a href="#How_to_enable_it">2 How to enable it</a></li> <li><a href="#Tweaking">3 Tweaking</a></li> <li><a href="#Helpful_things_to_get_you_started">4 Helpful things to get you started</a></li> <li><a href="#References">5 References</a></li></ul> <h2 id="description"><a href="#description" class="header-anchor">#</a> Description</h2> <p>Light propagation volumes is a technique to approximately achieve global illumination (GI) in Real-time.<br>
It uses lattices and spherical harmonics (SH) to represent the spatial and angular distribution of light in the scene.<a href="/index.php?title=Light_Propagation_Volumes_GI#References" title="Light Propagation Volumes GI">[1]</a></p> <h2 id="how-to-enable-it"><a href="#how-to-enable-it" class="header-anchor">#</a> How to enable it</h2> <p>The use of Light propagation volumes is disabled by default, since this feature is still under development by Epic.<br>
To enable this feature you need to edit the &quot;ConsoleVariables.ini&quot; file, which is located in your engine config folder. The default location for it is as follows</p> <p><code>C:\Program Files\Unreal Engine\4.0\Engine\Config\</code></p> <p>Now you have to add <em>r.LightPropagationVolume=1</em> at the bottom, right below the <em>[Startup]</em> category.<br>
Now your file should look like this:</p> <p>; ConsoleVariables.ini
;
; This file allows to set console variables on engine startup (In undefined order).
; Console variables also can be set in engine ini files (e.g. BaseEngine.ini, DefaultEngine.ini) in the [SystemSettings] section.
; This file should be in the source control database (for the comments and to know where to find it)
; but kept empty from variables.
; A developer can change it locally to save time not having to type repetitive
; console variable settings. The variables need to be in the section called [Startup].
; Later on we might have multiple named sections referenced by the section name.
; This would allow platform specific or level specific overrides.
; The name comparison is not case sensitive and if the variable doesn't exists it's silently ignored.
;
; Example file content:
;
; [Startup]
; FogDensity = 0.9
; ImageGrain = 0.5
; FreezeAtPosition = 2819.5520 416.2633 75.1500 65378 -25879 0</p> <p>[Startup]</p> <p>; Uncomment to get detailed logs on shader compiles and the opportunity to retry on errors
;r.ShaderDevelopmentMode=1
r.LightPropagationVolume=1</p> <p>Now you have to start/restart your Editor.</p> <p>But before you can actually use this feature you need to change some settings inside the Editor.</p> <p><a href="/index.php?title=File:DirLight.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/2/26/DirLight.png/42px-DirLight.png" alt="DirLight.png"></a></p> <p>First of all you have to place a &quot;<em>Directional Light</em>&quot; in your scene.</p> <p>By either clicking with your right mouse button in the viewport and selecting &quot;<em>Place Actor - Directional Light</em>&quot; or by dragging it from the left &quot;<em>Modes</em>&quot; tab into your scene.</p> <p>As next you need to go into the properties of your newly created Light. You now need to check the &quot;<em>Affect Dynamic Indirect Lighting</em>&quot; option in order to activate the use of LPV.<br>
In case you don't see this option, make sure that the &quot;<em>Show All Advanced Details</em>&quot; option is checked inside the Details panel. You can find this option under the little <em>Eye icon</em> <a href="/index.php?title=File:Eye-ico.gif"><img src="https://d26ilriwvtzlb.cloudfront.net/5/55/Eye-ico.gif" alt="Eye-ico.gif"></a> right next to the search bar.<br>
As next scroll down to the &quot;<em>Cascaded Shadow Maps</em>&quot; category and increase the value of &quot;<em>Dynamic Shadow Distance StationaryLight</em>&quot; (Dynamic Shadow Distance Movable if it is a Movable light) to 10.000.</p> <p>Now you have to disable the use of Lightmass, by going into your World Settings. <a href="/index.php?title=File:WorldSet.gif"><img src="https://d3ar1piqh1oeli.cloudfront.net/7/7c/WorldSet.gif/20px-WorldSet.gif" alt="WorldSet.gif"></a><br>
In here you have to look for an option called &quot;<em>Force No Precomputed Lighting</em>&quot; which is located under the Lightmass category, check the checkbox to disable the use of Lightmass. Now you can close the World Settings tab or window.</p> <p>Once this is done you actually need to re/build your lighting to invalidate and delete all previous existing baked data.</p> <p>Congratulations, now you have global illumination in real-time.</p> <h2 id="tweaking"><a href="#tweaking" class="header-anchor">#</a> Tweaking</h2> <p>No matter that this feature is actually under development, there are already some option for you to tweak.<br>
To get these options you have to place a &quot;<em>PostProcessVolume</em>&quot; in your scene. Once again simple drag &amp; drop a &quot;<em>PostProcessVolume</em>&quot; from the &quot;<em>Volumes</em>&quot; list under the &quot;Modes&quot; tab into your scene.</p> <p>Now in its properties scroll all the way down to the &quot;<em>PostProcessVolume</em>&quot; category and check the &quot;<em>Unbound</em>&quot; checkbox. This will make sure that your PP is used in the whole level and not just inside its boundaries.<br>
Now scroll up until you see the &quot;Light Propagation Volume&quot; category and expand it.</p> <p><strong>Property</strong></p> <p>Description</p> <p>Intensity</p> <p>How strong the dynamic GI from the LPV should be. 0 is off, 1.0 is normal value and anything above it can be used to boost the effect.</p> <p>(DISABLED) Grid Warp Intensity</p> <p>The strength of the warp offset for reducing light bleeding. 0 is off, 1.0 is normal value and anything above it can be used to boost the effect.</p> <p>Light Injection Bias</p> <p>Bias applied to the light injected into the LPV in cell units (<strong>not Unreal Units</strong>). Increase this value to reduce bleeding through thin walls.</p> <p>Size</p> <p>The size of the LPV volume, in Unreal Units.</p> <p>Secondary Occlusion Intensity</p> <p>Secondary occlusion strength (bounce light shadows). Set to 0 to disable.</p> <p>Geometry Volume Bias</p> <p>Bias applied to the geometry volume in cell units (<strong>not Unreal Units</strong>). Increase to reduce darkening due to secondary occlusion.</p> <p>Emissive Injection Intensity</p> <p>No information is given at this time. But i guess it controls the injection of emissive materials.</p> <p>Transmission Intensity</p> <p>How strong the light transmission from the LPV should be. 0 is off, 1.0 is normal value and anything above it can be used to boost the effect.</p> <p>Thats it, folks! You probably have to play around with these settings a bit to get proper results out of it.<br>
But it's a start.</p> <h2 id="helpful-things-to-get-you-started"><a href="#helpful-things-to-get-you-started" class="header-anchor">#</a> Helpful things to get you started</h2> <ul><li><a href="/index.php?title=File:CornellBoxUE4.zip" title="File:CornellBoxUE4.zip">File:CornellBoxUE4.zip</a> This ZIP File contains the <a href="http://en.wikipedia.org/wiki/Cornell_box" target="_blank" rel="noopener noreferrer">Cornell Box<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as a Map for the UE4. So that you can tweak the settings more easy.</li></ul> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <ul><li><a href="http://www.crytek.com/download/Light_Propagation_Volumes.pdf" target="_blank" rel="noopener noreferrer">Light Propagation Volumes by Anton Kaplanyan<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.vis.uni-stuttgart.de/~dachsbcn/download/lpv.pdf" target="_blank" rel="noopener noreferrer">Cascaded Light Propagation Volumes for Real-Time Indirect Illumination by Carsten Dachsbacheryâ€  and Anton Kaplanyan<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://scivis.itn.liu.se/sigrad2013/wp-content/uploads/2013/06/Octree_Light_Propagation_Volumes.pdf" target="_blank" rel="noopener noreferrer">Octree Light Propagation Volumes by John David Olovsson and Michael Doggett<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://forums.unrealengine.com/showthread.php?530-How-to-enable-Light-Propagation-Volumes-GI-WIP-AND-BETA" target="_blank" rel="noopener noreferrer">Originally discovered by<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://forums.unrealengine.com/member.php?154-vblanco" target="_blank" rel="noopener noreferrer">vblanco<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>The Cornell Box Level for the UE4 was made by <a href="/index.php?title=User:Chris.R&amp;action=edit&amp;redlink=1" title="User:Chris.R (page does not exist)">Chris.R</a></li> <li><a href="https://forums.unrealengine.com/showthread.php?40211-Request-decouple-ambient-cubemap-feature-from-postprocess-into-separate-entity&amp;p=150164&amp;viewfull=1#post150164" target="_blank" rel="noopener noreferrer">Using Reflections with LPVs, by Daedalus<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://answers.unrealengine.com/questions/35329/lpv-causing-crash-with-translucent-material-in-a-m.html" target="_blank" rel="noopener noreferrer">Translucent material crash work around<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Light_Propagation_Volumes_GI&amp;oldid=257" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Light_Propagation_Volumes_GI&amp;oldid=257<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/index.php?title=Special:Categories" title="Special:Categories">Categories</a>:</p> <ul><li><a href="/index.php?title=Category:Tutorials&amp;action=edit&amp;redlink=1" title="Category:Tutorials (page does not exist)">Tutorials</a></li> <li><a href="/index.php?title=Category:Community_Created_Content" title="Category:Community Created Content">Community Created Content</a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/795.1ac03f66.js" defer></script>
  </body>
</html>
